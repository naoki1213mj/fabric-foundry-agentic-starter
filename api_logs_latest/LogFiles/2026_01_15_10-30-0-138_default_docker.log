2026-01-15T15:45:48.6253371Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T15:45:48.6313100Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T15:45:48.6328398Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T15:45:48.6378238Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:45:48.6413450Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:45:48.6482507Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:45:48.6509051Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:45:48.7127003Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T15:45:48.7160080Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T15:45:48.7185426Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T15:45:48.7226246Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:45:48.7258924Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:45:48.7357398Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:45:48.7388736Z [2026-01-15 15:45:48 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:45:48.7482854Z INFO:     Started server process [1]
2026-01-15T15:45:48.7484187Z INFO:     Waiting for application startup.
2026-01-15T15:45:48.7501228Z INFO:     Application startup complete.
2026-01-15T15:45:48.7514927Z INFO:     Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)
2026-01-15T15:45:49.0338951Z INFO:     169.254.130.1:42057 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2026-01-15T15:45:49.2174444Z INFO:     169.254.130.1:42061 - "GET / HTTP/1.1" 404 Not Found
2026-01-15T15:45:49.2651396Z INFO:     169.254.130.1:42061 - "GET / HTTP/1.1" 404 Not Found
2026-01-15T15:46:33.7114239Z INFO:     Shutting down
2026-01-15T15:46:33.8202358Z INFO:     Waiting for application shutdown.
2026-01-15T15:46:33.8213050Z INFO:     Application shutdown complete.
2026-01-15T15:46:33.8213198Z INFO:     Finished server process [1]
2026-01-15T15:49:07.8790236Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T15:49:07.8817160Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T15:49:07.8833929Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T15:49:07.8868977Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:49:07.8898012Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:49:07.8958220Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:49:07.8983249Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:49:07.9394871Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T15:49:07.9409357Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T15:49:07.9425848Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T15:49:07.9462989Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:49:07.9485252Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:49:07.9536145Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:49:07.9570298Z [2026-01-15 15:49:07 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T15:49:07.9644788Z INFO:     Started server process [1]
2026-01-15T15:49:07.9648047Z INFO:     Waiting for application startup.
2026-01-15T15:49:07.9651405Z INFO:     Application startup complete.
2026-01-15T15:49:07.9656508Z INFO:     Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)
2026-01-15T15:49:08.3188518Z INFO:     169.254.130.1:38407 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2026-01-15T15:50:44.5344063Z INFO:     169.254.130.1:63067 - "OPTIONS /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T15:50:45.0529966Z [2026-01-15 15:50:45 - /app/history_sql.py:135 - ERROR] FABRIC-SQL: Driver 18 connection failed with error: ('HY000', '[HY000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]This SQL database has been disabled. Please reach out to your Fabric Capacity administrator for more information. (42131) (SQLDriverConnect)')
2026-01-15T15:50:45.0559366Z [2026-01-15 15:50:45 - /app/history_sql.py:230 - ERROR] Error executing SQL query: 'NoneType' object has no attribute 'cursor'
2026-01-15T15:50:45.0597686Z [2026-01-15 15:50:45 - /app/history_sql.py:308 - ERROR] Error in get_conversation
2026-01-15T15:50:45.0597802Z Traceback (most recent call last):
2026-01-15T15:50:45.0598411Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T15:50:45.0598453Z     result = await run_query_params(query, params)
2026-01-15T15:50:45.0598486Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T15:50:45.0598520Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T15:50:45.0598608Z     conn.close()
2026-01-15T15:50:45.0598640Z     ^^^^^^^^^^
2026-01-15T15:50:45.0598675Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T15:50:45.0606352Z [2026-01-15 15:50:45 - /app/history_sql.py:925 - ERROR] Exception in /historyfab/list: 'NoneType' object has no attribute 'close'
2026-01-15T15:50:45.0606437Z Traceback (most recent call last):
2026-01-15T15:50:45.0606475Z   File "/app/history_sql.py", line 909, in list_conversations
2026-01-15T15:50:45.0606510Z     conversations = await get_conversations(user_id, offset=offset, limit=limit)
2026-01-15T15:50:45.0606543Z                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T15:50:45.0606584Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T15:50:45.0606641Z     result = await run_query_params(query, params)
2026-01-15T15:50:45.0606672Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T15:50:45.0606703Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T15:50:45.0606732Z     conn.close()
2026-01-15T15:50:45.0606760Z     ^^^^^^^^^^
2026-01-15T15:50:45.0606792Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T15:50:45.0647872Z INFO:     169.254.130.1:63067 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 500 Internal Server Error
2026-01-15T15:50:48.5255199Z INFO:     169.254.130.1:63067 - "OPTIONS /api/chat HTTP/1.1" 200 OK
2026-01-15T15:50:49.0660420Z INFO:     169.254.130.1:63067 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T15:50:49.1157174Z [2026-01-15 15:50:49 - /app/history_sql.py:135 - ERROR] FABRIC-SQL: Driver 18 connection failed with error: ('HY000', '[HY000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]This SQL database has been disabled. Please reach out to your Fabric Capacity administrator for more information. (42131) (SQLDriverConnect)')
2026-01-15T15:50:49.1161651Z [2026-01-15 15:50:49 - /app/chat.py:169 - ERROR] Failed to establish database connection
2026-01-15T15:50:49.1193136Z [2026-01-15 15:50:49 - /app/chat.py:216 - ERROR] Error in stream_openai_text: Database connection failed
2026-01-15T15:50:49.1216398Z [2026-01-15 15:50:49 - /app/chat.py:269 - ERROR] Unexpected error: 500: Error streaming OpenAI text
2026-01-15T15:50:54.4596273Z INFO:     169.254.130.1:22161 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T15:50:54.5332263Z [2026-01-15 15:50:54 - /app/history_sql.py:135 - ERROR] FABRIC-SQL: Driver 18 connection failed with error: ('HY000', '[HY000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]This SQL database has been disabled. Please reach out to your Fabric Capacity administrator for more information. (42131) (SQLDriverConnect)')
2026-01-15T15:50:54.5338061Z [2026-01-15 15:50:54 - /app/chat.py:169 - ERROR] Failed to establish database connection
2026-01-15T15:50:54.5343490Z [2026-01-15 15:50:54 - /app/chat.py:216 - ERROR] Error in stream_openai_text: Database connection failed
2026-01-15T15:50:54.5346392Z [2026-01-15 15:50:54 - /app/chat.py:269 - ERROR] Unexpected error: 500: Error streaming OpenAI text
2026-01-15T15:50:57.9510401Z [2026-01-15 15:50:57 - /app/history_sql.py:135 - ERROR] FABRIC-SQL: Driver 18 connection failed with error: ('HY000', '[HY000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]This SQL database has been disabled. Please reach out to your Fabric Capacity administrator for more information. (42131) (SQLDriverConnect)')
2026-01-15T15:50:57.9518153Z [2026-01-15 15:50:57 - /app/history_sql.py:230 - ERROR] Error executing SQL query: 'NoneType' object has no attribute 'cursor'
2026-01-15T15:50:57.9525130Z [2026-01-15 15:50:57 - /app/history_sql.py:308 - ERROR] Error in get_conversation
2026-01-15T15:50:57.9526535Z Traceback (most recent call last):
2026-01-15T15:50:57.9526588Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T15:50:57.9526624Z     result = await run_query_params(query, params)
2026-01-15T15:50:57.9526654Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T15:50:57.9526706Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T15:50:57.9526737Z     conn.close()
2026-01-15T15:50:57.9526769Z     ^^^^^^^^^^
2026-01-15T15:50:57.9526804Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T15:50:57.9535887Z [2026-01-15 15:50:57 - /app/history_sql.py:925 - ERROR] Exception in /historyfab/list: 'NoneType' object has no attribute 'close'
2026-01-15T15:50:57.9535986Z Traceback (most recent call last):
2026-01-15T15:50:57.9536021Z   File "/app/history_sql.py", line 909, in list_conversations
2026-01-15T15:50:57.9536053Z     conversations = await get_conversations(user_id, offset=offset, limit=limit)
2026-01-15T15:50:57.9536084Z                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T15:50:57.9536116Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T15:50:57.9536148Z     result = await run_query_params(query, params)
2026-01-15T15:50:57.9536197Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T15:50:57.9536229Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T15:50:57.9536259Z     conn.close()
2026-01-15T15:50:57.9536289Z     ^^^^^^^^^^
2026-01-15T15:50:57.9536321Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T15:50:57.9542021Z INFO:     169.254.130.1:22161 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 500 Internal Server Error
2026-01-15T16:00:17.5270369Z INFO:     169.254.130.1:49929 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 500 Internal Server Error
2026-01-15T16:00:17.5318716Z [2026-01-15 16:00:17 - /app/history_sql.py:135 - ERROR] FABRIC-SQL: Driver 18 connection failed with error: ('HY000', '[HY000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]This SQL database has been disabled. Please reach out to your Fabric Capacity administrator for more information. (42131) (SQLDriverConnect)')
2026-01-15T16:00:17.5319173Z [2026-01-15 16:00:17 - /app/history_sql.py:230 - ERROR] Error executing SQL query: 'NoneType' object has no attribute 'cursor'
2026-01-15T16:00:17.5319213Z [2026-01-15 16:00:17 - /app/history_sql.py:308 - ERROR] Error in get_conversation
2026-01-15T16:00:17.5319244Z Traceback (most recent call last):
2026-01-15T16:00:17.5319275Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T16:00:17.5319305Z     result = await run_query_params(query, params)
2026-01-15T16:00:17.5319334Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:00:17.5319364Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T16:00:17.5319392Z     conn.close()
2026-01-15T16:00:17.5319420Z     ^^^^^^^^^^
2026-01-15T16:00:17.5319464Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T16:00:17.5319497Z [2026-01-15 16:00:17 - /app/history_sql.py:925 - ERROR] Exception in /historyfab/list: 'NoneType' object has no attribute 'close'
2026-01-15T16:00:17.5319524Z Traceback (most recent call last):
2026-01-15T16:00:17.5319554Z   File "/app/history_sql.py", line 909, in list_conversations
2026-01-15T16:00:17.5319584Z     conversations = await get_conversations(user_id, offset=offset, limit=limit)
2026-01-15T16:00:17.5319615Z                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:00:17.5319644Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T16:00:17.5319672Z     result = await run_query_params(query, params)
2026-01-15T16:00:17.5319699Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:00:17.5319728Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T16:00:17.5319754Z     conn.close()
2026-01-15T16:00:17.5319790Z     ^^^^^^^^^^
2026-01-15T16:00:17.5319821Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T16:01:07.0492040Z INFO:     169.254.130.1:23235 - "OPTIONS /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T16:01:07.5210588Z [2026-01-15 16:01:07 - /app/history_sql.py:135 - ERROR] FABRIC-SQL: Driver 18 connection failed with error: ('HY000', '[HY000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]This SQL database has been disabled. Please reach out to your Fabric Capacity administrator for more information. (42131) (SQLDriverConnect)')
2026-01-15T16:01:07.5235776Z [2026-01-15 16:01:07 - /app/history_sql.py:230 - ERROR] Error executing SQL query: 'NoneType' object has no attribute 'cursor'
2026-01-15T16:01:07.5319205Z [2026-01-15 16:01:07 - /app/history_sql.py:308 - ERROR] Error in get_conversation
2026-01-15T16:01:07.5319404Z Traceback (most recent call last):
2026-01-15T16:01:07.5319441Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T16:01:07.5319471Z     result = await run_query_params(query, params)
2026-01-15T16:01:07.5319500Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:01:07.5319530Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T16:01:07.5319557Z     conn.close()
2026-01-15T16:01:07.5319584Z     ^^^^^^^^^^
2026-01-15T16:01:07.5319641Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T16:01:07.5328570Z [2026-01-15 16:01:07 - /app/history_sql.py:925 - ERROR] Exception in /historyfab/list: 'NoneType' object has no attribute 'close'
2026-01-15T16:01:07.5328659Z Traceback (most recent call last):
2026-01-15T16:01:07.5328693Z   File "/app/history_sql.py", line 909, in list_conversations
2026-01-15T16:01:07.5328726Z     conversations = await get_conversations(user_id, offset=offset, limit=limit)
2026-01-15T16:01:07.5328756Z                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:01:07.5328786Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T16:01:07.5328817Z     result = await run_query_params(query, params)
2026-01-15T16:01:07.5328851Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:01:07.5328881Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T16:01:07.5328932Z     conn.close()
2026-01-15T16:01:07.5328964Z     ^^^^^^^^^^
2026-01-15T16:01:07.5328996Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T16:01:07.5335640Z INFO:     169.254.130.1:23235 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 500 Internal Server Error
2026-01-15T16:01:12.9971702Z INFO:     169.254.130.1:23249 - "OPTIONS /api/chat HTTP/1.1" 200 OK
2026-01-15T16:01:13.2720904Z INFO:     169.254.130.1:23249 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T16:01:13.3153793Z [2026-01-15 16:01:13 - /app/history_sql.py:135 - ERROR] FABRIC-SQL: Driver 18 connection failed with error: ('HY000', '[HY000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]This SQL database has been disabled. Please reach out to your Fabric Capacity administrator for more information. (42131) (SQLDriverConnect)')
2026-01-15T16:01:13.3160646Z [2026-01-15 16:01:13 - /app/chat.py:169 - ERROR] Failed to establish database connection
2026-01-15T16:01:13.3172875Z [2026-01-15 16:01:13 - /app/chat.py:216 - ERROR] Error in stream_openai_text: Database connection failed
2026-01-15T16:01:13.3173056Z [2026-01-15 16:01:13 - /app/chat.py:269 - ERROR] Unexpected error: 500: Error streaming OpenAI text
2026-01-15T16:03:31.5222747Z [2026-01-15 16:03:31 - /app/history_sql.py:135 - ERROR] FABRIC-SQL: Driver 18 connection failed with error: ('HY000', '[HY000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]This SQL database has been disabled. Please reach out to your Fabric Capacity administrator for more information. (42131) (SQLDriverConnect)')
2026-01-15T16:03:31.5341215Z [2026-01-15 16:03:31 - /app/history_sql.py:230 - ERROR] Error executing SQL query: 'NoneType' object has no attribute 'cursor'
2026-01-15T16:03:31.5362950Z [2026-01-15 16:03:31 - /app/history_sql.py:308 - ERROR] Error in get_conversation
2026-01-15T16:03:31.5363098Z Traceback (most recent call last):
2026-01-15T16:03:31.5363138Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T16:03:31.5363170Z     result = await run_query_params(query, params)
2026-01-15T16:03:31.5363202Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:03:31.5363239Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T16:03:31.5363273Z     conn.close()
2026-01-15T16:03:31.5363328Z     ^^^^^^^^^^
2026-01-15T16:03:31.5363364Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T16:03:31.5381412Z [2026-01-15 16:03:31 - /app/history_sql.py:925 - ERROR] Exception in /historyfab/list: 'NoneType' object has no attribute 'close'
2026-01-15T16:03:31.5381526Z Traceback (most recent call last):
2026-01-15T16:03:31.5381567Z   File "/app/history_sql.py", line 909, in list_conversations
2026-01-15T16:03:31.5381604Z     conversations = await get_conversations(user_id, offset=offset, limit=limit)
2026-01-15T16:03:31.5381640Z                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:03:31.5381671Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T16:03:31.5381700Z     result = await run_query_params(query, params)
2026-01-15T16:03:31.5381729Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:03:31.5381758Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T16:03:31.5381786Z     conn.close()
2026-01-15T16:03:31.5381815Z     ^^^^^^^^^^
2026-01-15T16:03:31.5381879Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T16:03:31.5390669Z INFO:     169.254.130.1:28117 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 500 Internal Server Error
2026-01-15T16:04:30.2893947Z [2026-01-15 16:04:30 - /app/history_sql.py:135 - ERROR] FABRIC-SQL: Driver 18 connection failed with error: ('HYT00', '[HYT00] [Microsoft][ODBC Driver 18 for SQL Server]Login timeout expired (0) (SQLDriverConnect)')
2026-01-15T16:04:30.2901762Z [2026-01-15 16:04:30 - /app/history_sql.py:230 - ERROR] Error executing SQL query: 'NoneType' object has no attribute 'cursor'
2026-01-15T16:04:30.2907221Z [2026-01-15 16:04:30 - /app/history_sql.py:308 - ERROR] Error in get_conversation
2026-01-15T16:04:30.2907384Z Traceback (most recent call last):
2026-01-15T16:04:30.2907421Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T16:04:30.2907451Z     result = await run_query_params(query, params)
2026-01-15T16:04:30.2907480Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:04:30.2907510Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T16:04:30.2907537Z     conn.close()
2026-01-15T16:04:30.2907565Z     ^^^^^^^^^^
2026-01-15T16:04:30.2907615Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T16:04:30.2924664Z [2026-01-15 16:04:30 - /app/history_sql.py:925 - ERROR] Exception in /historyfab/list: 'NoneType' object has no attribute 'close'
2026-01-15T16:04:30.2924853Z Traceback (most recent call last):
2026-01-15T16:04:30.2924895Z   File "/app/history_sql.py", line 909, in list_conversations
2026-01-15T16:04:30.2924936Z     conversations = await get_conversations(user_id, offset=offset, limit=limit)
2026-01-15T16:04:30.2924968Z                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:04:30.2925000Z   File "/app/history_sql.py", line 305, in get_conversations
2026-01-15T16:04:30.2925033Z     result = await run_query_params(query, params)
2026-01-15T16:04:30.2925064Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T16:04:30.2925093Z   File "/app/history_sql.py", line 235, in run_query_params
2026-01-15T16:04:30.2925144Z     conn.close()
2026-01-15T16:04:30.2925175Z     ^^^^^^^^^^
2026-01-15T16:04:30.2925208Z AttributeError: 'NoneType' object has no attribute 'close'
2026-01-15T16:04:30.2934170Z INFO:     169.254.130.1:37891 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 500 Internal Server Error
2026-01-15T16:04:30.2953223Z INFO:     169.254.130.1:13939 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T16:04:35.4282391Z [2026-01-15 16:04:35 - /app/history_sql.py:135 - ERROR] FABRIC-SQL: Driver 18 connection failed with error: ('HY000', "[HY000] [Microsoft][ODBC Driver 18 for SQL Server][SQL Server]Database 'retail_sqldatabase_daj6dri4yf3k3z-c9a4f960-6dfe-4e75-8ef6-ac9ef3f35e44' on server 'l3mc2ebyyfwejehdghpbjlhnw4-moiagz2ftahudlx3khcgjqxfqa.database.fabric.microsoft.com' is not currently available.  Please retry the connection later.  If the problem persists, contact customer support, and provide them the session tracing ID of '{B0B17604-1480-43BF-B55A-5F82A17703ED}'. (40613) (SQLDriverConnect)")
2026-01-15T16:04:35.4289677Z [2026-01-15 16:04:35 - /app/chat.py:169 - ERROR] Failed to establish database connection
2026-01-15T16:04:35.4291409Z [2026-01-15 16:04:35 - /app/chat.py:216 - ERROR] Error in stream_openai_text: Database connection failed
2026-01-15T16:04:35.4302147Z [2026-01-15 16:04:35 - /app/chat.py:269 - ERROR] Unexpected error: 500: Error streaming OpenAI text
2026-01-15T16:05:14.1401763Z INFO:     169.254.130.1:42333 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T16:05:14.7136118Z INFO:     169.254.130.1:42333 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T16:05:25.7426738Z INFO:     169.254.130.1:42333 - "OPTIONS /historyfab/update HTTP/1.1" 200 OK
2026-01-15T16:05:34.2177656Z INFO:     169.254.130.1:42333 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T16:05:36.0587181Z INFO:     169.254.130.1:42333 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T16:06:00.4054636Z INFO:     169.254.130.1:42333 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T16:06:11.8209557Z INFO:     169.254.130.1:48299 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T16:06:38.7498494Z INFO:     169.254.130.1:48299 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T16:07:48.4447736Z INFO:     169.254.130.1:54219 - "GET /health HTTP/1.1" 200 OK
2026-01-15T16:08:59.8816528Z INFO:     169.254.130.1:16261 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T16:09:13.4510726Z INFO:     169.254.130.1:16261 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T16:09:43.2756628Z INFO:     169.254.130.1:58807 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T16:10:05.9410365Z INFO:     169.254.130.1:58807 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T16:10:39.5276561Z INFO:     169.254.130.1:24227 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T16:10:56.3848390Z INFO:     169.254.130.1:24227 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T16:48:04.9372648Z INFO:     169.254.130.1:35121 - "OPTIONS /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T16:48:10.5624983Z INFO:     169.254.130.1:35121 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T16:50:20.5799213Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T16:50:20.5816428Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T16:50:20.5830960Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T16:50:20.5885235Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:50:20.5919597Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:50:20.5988155Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:50:20.6012761Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:50:20.6337284Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T16:50:20.6351101Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T16:50:20.6364579Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T16:50:20.6393473Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:50:20.6411387Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:50:20.6456220Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:50:20.6478430Z [2026-01-15 16:50:20 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:50:20.6548360Z INFO:     Started server process [1]
2026-01-15T16:50:20.6551009Z INFO:     Waiting for application startup.
2026-01-15T16:50:20.6562210Z INFO:     Application startup complete.
2026-01-15T16:50:20.6575299Z INFO:     Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)
2026-01-15T16:50:23.3860923Z INFO:     169.254.130.1:15739 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2026-01-15T16:50:44.2092189Z INFO:     Shutting down
2026-01-15T16:50:44.3082856Z INFO:     Waiting for application shutdown.
2026-01-15T16:50:44.3086508Z INFO:     Application shutdown complete.
2026-01-15T16:50:44.3086598Z INFO:     Finished server process [1]
2026-01-15T16:50:45.2378862Z [2026-01-15 16:50:45 - /usr/local/lib/python3.11/site-packages/aiohttp/client.py:459 - ERROR] Unclosed client session
2026-01-15T16:50:45.2379316Z client_session: <aiohttp.client.ClientSession object at 0x7941f93b8450>
2026-01-15T16:51:02.0449472Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T16:51:02.0478627Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T16:51:02.0497870Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T16:51:02.0540654Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:51:02.0566164Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:51:02.0621840Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:51:02.0648959Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:51:02.1293030Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T16:51:02.1316731Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T16:51:02.1339177Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T16:51:02.1372268Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:51:02.1407814Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:51:02.1498090Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:51:02.1532189Z [2026-01-15 16:51:02 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T16:51:02.1684609Z INFO:     Started server process [1]
2026-01-15T16:51:02.1687745Z INFO:     Waiting for application startup.
2026-01-15T16:51:02.1692866Z INFO:     Application startup complete.
2026-01-15T16:51:02.1701637Z INFO:     Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)
2026-01-15T16:51:02.7438041Z INFO:     169.254.130.1:23959 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2026-01-15T16:51:23.0179332Z INFO:     Shutting down
2026-01-15T16:51:23.1187739Z INFO:     Waiting for application shutdown.
2026-01-15T16:51:23.1195259Z INFO:     Application shutdown complete.
2026-01-15T16:51:23.1195471Z INFO:     Finished server process [1]
2026-01-15T16:54:55.2343323Z INFO:     169.254.130.1:53859 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T16:55:14.8075330Z INFO:     169.254.130.1:37933 - "OPTIONS /api/chat HTTP/1.1" 200 OK
2026-01-15T16:55:15.1158616Z INFO:     169.254.130.1:37933 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T16:55:28.1863430Z INFO:     169.254.130.1:37933 - "OPTIONS /historyfab/update HTTP/1.1" 200 OK
2026-01-15T16:55:36.9422835Z INFO:     169.254.130.1:37933 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T16:55:48.4710567Z INFO:     169.254.130.1:11549 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T16:55:57.6388502Z INFO:     169.254.130.1:11549 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T17:01:42.0757643Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T17:01:42.0801298Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T17:01:42.0847631Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T17:01:42.0894480Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:01:42.0928308Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:01:42.0980607Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:01:42.1009468Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:01:42.1569173Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T17:01:42.1585771Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T17:01:42.1626662Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T17:01:42.1682980Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:01:42.1737744Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:01:42.2332728Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:01:42.2338985Z [2026-01-15 17:01:42 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:01:42.2339082Z INFO:     Started server process [1]
2026-01-15T17:01:42.2339126Z INFO:     Waiting for application startup.
2026-01-15T17:01:42.2516360Z INFO:     Application startup complete.
2026-01-15T17:01:42.2582260Z INFO:     Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)
2026-01-15T17:01:43.1681757Z INFO:     169.254.130.1:24119 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2026-01-15T17:02:03.4074508Z INFO:     Shutting down
2026-01-15T17:02:03.5076000Z INFO:     Waiting for application shutdown.
2026-01-15T17:02:03.5084263Z INFO:     Application shutdown complete.
2026-01-15T17:02:03.5084370Z INFO:     Finished server process [1]
2026-01-15T17:02:04.2648061Z [2026-01-15 17:02:04 - /usr/local/lib/python3.11/site-packages/aiohttp/client.py:459 - ERROR] Unclosed client session
2026-01-15T17:02:04.2648468Z client_session: <aiohttp.client.ClientSession object at 0x7872ca580d10>
2026-01-15T17:02:35.5761817Z INFO:     169.254.130.1:38847 - "OPTIONS /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T17:02:42.2207339Z INFO:     169.254.130.1:38847 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T17:02:42.4756573Z INFO:     169.254.130.1:38849 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T17:03:29.6864980Z INFO:     169.254.130.1:38849 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T17:22:52.8066942Z INFO:     169.254.130.1:64257 - "OPTIONS /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T17:22:58.1849149Z INFO:     169.254.130.1:64257 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T17:22:58.1849484Z INFO:     169.254.130.1:37071 - "OPTIONS /api/chat HTTP/1.1" 200 OK
2026-01-15T17:22:58.5640521Z INFO:     169.254.130.1:37071 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T17:23:14.4166701Z INFO:     169.254.130.1:37071 - "OPTIONS /historyfab/update HTTP/1.1" 200 OK
2026-01-15T17:23:31.9855838Z INFO:     169.254.130.1:37071 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T17:23:34.4317595Z INFO:     169.254.130.1:37071 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T17:23:43.7220714Z INFO:     169.254.130.1:37071 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T17:31:34.8054933Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T17:31:34.8077396Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T17:31:34.8101046Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T17:31:34.8146574Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:31:34.8176037Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:31:34.8244954Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:31:34.8274204Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:31:34.9310066Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/trace/__init__.py:537 - WARNING] Overriding of current TracerProvider is not allowed
2026-01-15T17:31:34.9329620Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/_logs/_internal/__init__.py:305 - WARNING] Overriding of current LoggerProvider is not allowed
2026-01-15T17:31:34.9350057Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/metrics/_internal/__init__.py:864 - WARNING] Overriding of current MeterProvider is not allowed
2026-01-15T17:31:34.9384691Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:31:34.9416104Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:31:34.9470840Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:31:34.9503278Z [2026-01-15 17:31:34 - /usr/local/lib/python3.11/site-packages/opentelemetry/instrumentation/instrumentor.py:103 - WARNING] Attempting to instrument while already instrumented
2026-01-15T17:31:34.9596117Z INFO:     Started server process [1]
2026-01-15T17:31:34.9600218Z INFO:     Waiting for application startup.
2026-01-15T17:31:34.9613679Z INFO:     Application startup complete.
2026-01-15T17:31:34.9623169Z INFO:     Uvicorn running on http://0.0.0.0:80 (Press CTRL+C to quit)
2026-01-15T17:31:35.4697385Z INFO:     169.254.130.1:31773 - "GET /robots933456.txt HTTP/1.1" 404 Not Found
2026-01-15T17:31:55.7001561Z INFO:     Shutting down
2026-01-15T17:31:55.8035135Z INFO:     Waiting for application shutdown.
2026-01-15T17:31:55.8123380Z INFO:     Application shutdown complete.
2026-01-15T17:31:55.8151775Z INFO:     Finished server process [1]
2026-01-15T17:31:56.7760174Z [2026-01-15 17:31:56 - /usr/local/lib/python3.11/site-packages/aiohttp/client.py:459 - ERROR] Unclosed client session
2026-01-15T17:31:56.7760610Z client_session: <aiohttp.client.ClientSession object at 0x7bcb821b4e50>
2026-01-15T17:31:56.7763295Z [2026-01-15 17:31:56 - /usr/local/lib/python3.11/site-packages/aiohttp/client.py:459 - ERROR] Unclosed client session
2026-01-15T17:31:56.7763378Z client_session: <aiohttp.client.ClientSession object at 0x7bcb82a40a50>
2026-01-15T17:32:02.6173005Z INFO:     169.254.130.1:23427 - "GET /health HTTP/1.1" 200 OK
2026-01-15T17:48:29.1817166Z INFO:     169.254.130.1:39823 - "OPTIONS /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T17:48:36.6891397Z INFO:     169.254.130.1:39823 - "GET /historyfab/list?offset=0&limit=25 HTTP/1.1" 200 OK
2026-01-15T17:48:36.6999266Z INFO:     169.254.130.1:39835 - "OPTIONS /api/chat HTTP/1.1" 200 OK
2026-01-15T17:48:37.4022060Z INFO:     169.254.130.1:39835 - "POST /api/chat HTTP/1.1" 200 OK
2026-01-15T17:48:51.3812640Z INFO:     169.254.130.1:39823 - "GET /health HTTP/1.1" 200 OK
2026-01-15T17:49:02.3925718Z Traceback (most recent call last):
2026-01-15T17:49:02.3941570Z   File "/usr/local/bin/uvicorn", line 7, in <module>
2026-01-15T17:49:02.3941878Z     sys.exit(main())
2026-01-15T17:49:02.3941924Z              ^^^^^^
2026-01-15T17:49:02.3941965Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1485, in __call__
2026-01-15T17:49:02.4017545Z     return self.main(*args, **kwargs)
2026-01-15T17:49:02.4017806Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:02.4018356Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1406, in main
2026-01-15T17:49:02.4018441Z     rv = self.invoke(ctx)
2026-01-15T17:49:02.4018483Z          ^^^^^^^^^^^^^^^^
2026-01-15T17:49:02.4018536Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1269, in invoke
2026-01-15T17:49:02.4018577Z     return ctx.invoke(self.callback, **ctx.params)
2026-01-15T17:49:02.4018635Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:02.4018680Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 824, in invoke
2026-01-15T17:49:02.4018723Z     return callback(*args, **kwargs)
2026-01-15T17:49:02.4018760Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:02.4018797Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2026-01-15T17:49:02.4083354Z     run(
2026-01-15T17:49:02.4083501Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2026-01-15T17:49:02.4083549Z     server.run()
2026-01-15T17:49:02.4083592Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2026-01-15T17:49:02.4094382Z     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2026-01-15T17:49:02.4094508Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:02.4094551Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2026-01-15T17:49:02.4105582Z     return runner.run(main)
2026-01-15T17:49:02.4105706Z            ^^^^^^^^^^^^^^^^
2026-01-15T17:49:02.4105766Z   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2026-01-15T17:49:02.4114694Z     return self._loop.run_until_complete(task)
2026-01-15T17:49:02.4114818Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:02.4114860Z   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2026-01-15T17:49:02.4118057Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2026-01-15T17:49:02.4120593Z     await self._serve(sockets)
2026-01-15T17:49:02.4120707Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2026-01-15T17:49:02.4126366Z     config.load()
2026-01-15T17:49:02.4128100Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2026-01-15T17:49:02.4232532Z     self.loaded_app = import_from_string(self.app)
2026-01-15T17:49:02.4235406Z                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:02.4235526Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2026-01-15T17:49:02.4250290Z     module = importlib.import_module(module_str)
2026-01-15T17:49:02.4252435Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:02.4252524Z   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2026-01-15T17:49:02.4261773Z     return _bootstrap._gcd_import(name[level:], package, level)
2026-01-15T17:49:02.4264890Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:02.4267881Z   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2026-01-15T17:49:02.4267952Z   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2026-01-15T17:49:02.4267995Z   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2026-01-15T17:49:02.4268035Z   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2026-01-15T17:49:02.4268661Z   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2026-01-15T17:49:02.4268747Z   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2026-01-15T17:49:02.4268786Z   File "/app/app.py", line 21, in <module>
2026-01-15T17:49:02.4280706Z     from chat import router as chat_router
2026-01-15T17:49:02.4281819Z   File "/app/chat.py", line 28, in <module>
2026-01-15T17:49:02.4291508Z     from azure.monitor.opentelemetry import configure_azure_monitor
2026-01-15T17:49:02.4291850Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/__init__.py", line 7, in <module>
2026-01-15T17:49:02.4303368Z     from azure.monitor.opentelemetry._configure import configure_azure_monitor
2026-01-15T17:49:02.4303522Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_configure.py", line 27, in <module>
2026-01-15T17:49:02.4312384Z     from azure.monitor.opentelemetry._constants import (
2026-01-15T17:49:02.4312600Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_constants.py", line 7, in <module>
2026-01-15T17:49:02.4320880Z     from azure.monitor.opentelemetry.exporter._constants import (  # pylint: disable=import-error,no-name-in-module
2026-01-15T17:49:02.4321084Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/__init__.py", line 7, in <module>
2026-01-15T17:49:02.4327856Z     from azure.monitor.opentelemetry.exporter.export.logs._exporter import AzureMonitorLogExporter
2026-01-15T17:49:02.4327993Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/export/logs/_exporter.py", line 14, in <module>
2026-01-15T17:49:02.4334555Z     from opentelemetry.sdk._logs import LogData
2026-01-15T17:49:02.4336930Z ImportError: cannot import name 'LogData' from 'opentelemetry.sdk._logs' (/usr/local/lib/python3.11/site-packages/opentelemetry/sdk/_logs/__init__.py)
2026-01-15T17:49:03.4751726Z INFO:     169.254.130.1:39835 - "OPTIONS /historyfab/update HTTP/1.1" 200 OK
2026-01-15T17:49:12.5164795Z INFO:     169.254.130.1:39835 - "POST /historyfab/update HTTP/1.1" 200 OK
2026-01-15T17:49:24.2905046Z INFO:     Shutting down
2026-01-15T17:49:24.3903109Z INFO:     Waiting for application shutdown.
2026-01-15T17:49:25.2574101Z INFO:     Application shutdown complete.
2026-01-15T17:49:25.2574295Z INFO:     Finished server process [1]
2026-01-15T17:49:25.2574356Z [2026-01-15 17:49:25 - /usr/local/lib/python3.11/site-packages/aiohttp/client.py:459 - ERROR] Unclosed client session
2026-01-15T17:49:25.2574385Z client_session: <aiohttp.client.ClientSession object at 0x724c5a612e50>
2026-01-15T17:49:37.7350131Z Traceback (most recent call last):
2026-01-15T17:49:37.7350414Z   File "/usr/local/bin/uvicorn", line 7, in <module>
2026-01-15T17:49:37.7350457Z     sys.exit(main())
2026-01-15T17:49:37.7350553Z              ^^^^^^
2026-01-15T17:49:37.7350592Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1485, in __call__
2026-01-15T17:49:37.7350622Z     return self.main(*args, **kwargs)
2026-01-15T17:49:37.7350652Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:37.7350687Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1406, in main
2026-01-15T17:49:37.7350715Z     rv = self.invoke(ctx)
2026-01-15T17:49:37.7350745Z          ^^^^^^^^^^^^^^^^
2026-01-15T17:49:38.0807027Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1269, in invoke
2026-01-15T17:49:38.0807209Z     return ctx.invoke(self.callback, **ctx.params)
2026-01-15T17:49:38.0807235Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:38.0807265Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 824, in invoke
2026-01-15T17:49:38.0807285Z     return callback(*args, **kwargs)
2026-01-15T17:49:38.0807305Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:38.0807325Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2026-01-15T17:49:38.0807343Z     run(
2026-01-15T17:49:38.0807364Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2026-01-15T17:49:38.0807382Z     server.run()
2026-01-15T17:49:38.0807403Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2026-01-15T17:49:38.0807424Z     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2026-01-15T17:49:38.0807445Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:38.0807467Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2026-01-15T17:49:38.0807495Z     return runner.run(main)
2026-01-15T17:49:38.0807513Z            ^^^^^^^^^^^^^^^^
2026-01-15T17:49:38.0807532Z   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2026-01-15T17:49:38.0807565Z     return self._loop.run_until_complete(task)
2026-01-15T17:49:38.0807586Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:38.0807606Z   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2026-01-15T17:49:38.0807627Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2026-01-15T17:49:38.0807645Z     await self._serve(sockets)
2026-01-15T17:49:38.0807665Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2026-01-15T17:49:38.0807683Z     config.load()
2026-01-15T17:49:38.0807710Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2026-01-15T17:49:38.0807730Z     self.loaded_app = import_from_string(self.app)
2026-01-15T17:49:38.0807749Z                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:38.0807770Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2026-01-15T17:49:38.0807789Z     module = importlib.import_module(module_str)
2026-01-15T17:49:38.0807808Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:38.0807829Z   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2026-01-15T17:49:38.0807850Z     return _bootstrap._gcd_import(name[level:], package, level)
2026-01-15T17:49:38.0807870Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:49:38.0807900Z   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2026-01-15T17:49:38.0807921Z   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2026-01-15T17:49:38.0807941Z   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2026-01-15T17:49:38.0807960Z   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2026-01-15T17:49:38.0807979Z   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2026-01-15T17:49:38.0808000Z   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2026-01-15T17:49:38.0808019Z   File "/app/app.py", line 21, in <module>
2026-01-15T17:49:38.0808037Z     from chat import router as chat_router
2026-01-15T17:49:38.0808056Z   File "/app/chat.py", line 28, in <module>
2026-01-15T17:49:38.0808076Z     from azure.monitor.opentelemetry import configure_azure_monitor
2026-01-15T17:49:38.0808097Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/__init__.py", line 7, in <module>
2026-01-15T17:49:38.0808121Z     from azure.monitor.opentelemetry._configure import configure_azure_monitor
2026-01-15T17:49:38.0808142Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_configure.py", line 27, in <module>
2026-01-15T17:49:38.0808162Z     from azure.monitor.opentelemetry._constants import (
2026-01-15T17:49:38.0808183Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_constants.py", line 7, in <module>
2026-01-15T17:49:38.0808204Z     from azure.monitor.opentelemetry.exporter._constants import (  # pylint: disable=import-error,no-name-in-module
2026-01-15T17:49:38.0808225Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/__init__.py", line 7, in <module>
2026-01-15T17:49:38.0808245Z     from azure.monitor.opentelemetry.exporter.export.logs._exporter import AzureMonitorLogExporter
2026-01-15T17:49:38.0808275Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/export/logs/_exporter.py", line 14, in <module>
2026-01-15T17:49:38.0808294Z     from opentelemetry.sdk._logs import LogData
2026-01-15T17:49:38.0808322Z ImportError: cannot import name 'LogData' from 'opentelemetry.sdk._logs' (/usr/local/lib/python3.11/site-packages/opentelemetry/sdk/_logs/__init__.py)
2026-01-15T17:51:44.9242471Z Traceback (most recent call last):
2026-01-15T17:51:44.9242756Z   File "/usr/local/bin/uvicorn", line 7, in <module>
2026-01-15T17:51:45.8578176Z     sys.exit(main())
2026-01-15T17:51:45.8578350Z              ^^^^^^
2026-01-15T17:51:45.8578384Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1485, in __call__
2026-01-15T17:51:45.8578405Z     return self.main(*args, **kwargs)
2026-01-15T17:51:45.8578424Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:51:45.8578454Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1406, in main
2026-01-15T17:51:45.8578474Z     rv = self.invoke(ctx)
2026-01-15T17:51:45.8578493Z          ^^^^^^^^^^^^^^^^
2026-01-15T17:51:45.8578515Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1269, in invoke
2026-01-15T17:51:45.8578536Z     return ctx.invoke(self.callback, **ctx.params)
2026-01-15T17:51:45.8578555Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:51:45.8578576Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 824, in invoke
2026-01-15T17:51:45.8578595Z     return callback(*args, **kwargs)
2026-01-15T17:51:45.8578614Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:51:45.8578635Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2026-01-15T17:51:45.8578654Z     run(
2026-01-15T17:51:45.8578680Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2026-01-15T17:51:45.8578698Z     server.run()
2026-01-15T17:51:45.8578718Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2026-01-15T17:51:45.8578738Z     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2026-01-15T17:51:45.8578758Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:51:45.8578779Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2026-01-15T17:51:45.8578797Z     return runner.run(main)
2026-01-15T17:51:45.8578814Z            ^^^^^^^^^^^^^^^^
2026-01-15T17:51:45.8578833Z   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2026-01-15T17:51:45.8578852Z     return self._loop.run_until_complete(task)
2026-01-15T17:51:45.8578870Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:51:45.8578897Z   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2026-01-15T17:51:45.8578917Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2026-01-15T17:51:45.8578936Z     await self._serve(sockets)
2026-01-15T17:51:45.8578956Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2026-01-15T17:51:45.8578973Z     config.load()
2026-01-15T17:51:45.8578993Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2026-01-15T17:51:45.8579011Z     self.loaded_app = import_from_string(self.app)
2026-01-15T17:51:45.8579030Z                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:51:45.8579050Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2026-01-15T17:51:45.8579069Z     module = importlib.import_module(module_str)
2026-01-15T17:51:45.8579088Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:51:45.8579114Z   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2026-01-15T17:51:45.8579134Z     return _bootstrap._gcd_import(name[level:], package, level)
2026-01-15T17:51:45.8579153Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T17:51:45.8579173Z   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2026-01-15T17:51:45.8579192Z   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2026-01-15T17:51:45.8579212Z   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2026-01-15T17:51:45.8579231Z   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2026-01-15T17:51:45.8579251Z   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2026-01-15T17:51:45.8579270Z   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2026-01-15T17:51:45.8579289Z   File "/app/app.py", line 21, in <module>
2026-01-15T17:51:45.8579316Z     from chat import router as chat_router
2026-01-15T17:51:45.8579335Z   File "/app/chat.py", line 28, in <module>
2026-01-15T17:51:45.8579355Z     from azure.monitor.opentelemetry import configure_azure_monitor
2026-01-15T17:51:45.8579375Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/__init__.py", line 7, in <module>
2026-01-15T17:51:45.8579394Z     from azure.monitor.opentelemetry._configure import configure_azure_monitor
2026-01-15T17:51:45.8579415Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_configure.py", line 27, in <module>
2026-01-15T17:51:45.8579434Z     from azure.monitor.opentelemetry._constants import (
2026-01-15T17:51:45.8579455Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_constants.py", line 7, in <module>
2026-01-15T17:51:45.8579476Z     from azure.monitor.opentelemetry.exporter._constants import (  # pylint: disable=import-error,no-name-in-module
2026-01-15T17:51:45.8579497Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/__init__.py", line 7, in <module>
2026-01-15T17:51:45.8579525Z     from azure.monitor.opentelemetry.exporter.export.logs._exporter import AzureMonitorLogExporter
2026-01-15T17:51:45.8579548Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/export/logs/_exporter.py", line 14, in <module>
2026-01-15T17:51:45.8579567Z     from opentelemetry.sdk._logs import LogData
2026-01-15T17:51:45.8579694Z ImportError: cannot import name 'LogData' from 'opentelemetry.sdk._logs' (/usr/local/lib/python3.11/site-packages/opentelemetry/sdk/_logs/__init__.py)
2026-01-15T18:05:17.0778010Z Traceback (most recent call last):
2026-01-15T18:05:17.0791100Z   File "/usr/local/bin/uvicorn", line 7, in <module>
2026-01-15T18:05:17.0791370Z     sys.exit(main())
2026-01-15T18:05:17.0791415Z              ^^^^^^
2026-01-15T18:05:17.0791475Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1485, in __call__
2026-01-15T18:05:17.0853971Z     return self.main(*args, **kwargs)
2026-01-15T18:05:17.0854146Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:05:17.0854206Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1406, in main
2026-01-15T18:05:17.0854243Z     rv = self.invoke(ctx)
2026-01-15T18:05:17.0854279Z          ^^^^^^^^^^^^^^^^
2026-01-15T18:05:17.0854348Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1269, in invoke
2026-01-15T18:05:17.0856909Z     return ctx.invoke(self.callback, **ctx.params)
2026-01-15T18:05:17.0856949Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:05:17.0856986Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 824, in invoke
2026-01-15T18:05:17.0857021Z     return callback(*args, **kwargs)
2026-01-15T18:05:17.0857055Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:05:17.0857091Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2026-01-15T18:05:17.0857135Z     run(
2026-01-15T18:05:17.0857171Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2026-01-15T18:05:17.0857211Z     server.run()
2026-01-15T18:05:17.0857247Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2026-01-15T18:05:17.0857284Z     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2026-01-15T18:05:17.0857322Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:05:17.0857367Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2026-01-15T18:05:17.0857400Z     return runner.run(main)
2026-01-15T18:05:17.0857433Z            ^^^^^^^^^^^^^^^^
2026-01-15T18:05:17.0857467Z   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2026-01-15T18:05:17.0879031Z     return self._loop.run_until_complete(task)
2026-01-15T18:05:17.0883218Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:05:17.0884110Z   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2026-01-15T18:05:17.0897027Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2026-01-15T18:05:17.0906332Z     await self._serve(sockets)
2026-01-15T18:05:17.0911927Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2026-01-15T18:05:17.0919374Z     config.load()
2026-01-15T18:05:17.0919490Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2026-01-15T18:05:17.0924193Z     self.loaded_app = import_from_string(self.app)
2026-01-15T18:05:17.0924314Z                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:05:17.0924366Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2026-01-15T18:05:17.0925851Z     module = importlib.import_module(module_str)
2026-01-15T18:05:17.0925975Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:05:17.0926022Z   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2026-01-15T18:05:17.0933624Z     return _bootstrap._gcd_import(name[level:], package, level)
2026-01-15T18:05:17.0935974Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:05:17.0936076Z   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2026-01-15T18:05:17.0936125Z   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2026-01-15T18:05:17.0936200Z   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2026-01-15T18:05:17.0936243Z   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2026-01-15T18:05:17.0936284Z   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2026-01-15T18:05:17.0936323Z   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2026-01-15T18:05:17.0936362Z   File "/app/app.py", line 21, in <module>
2026-01-15T18:05:17.0937614Z     from chat import router as chat_router
2026-01-15T18:05:17.0938537Z   File "/app/chat.py", line 28, in <module>
2026-01-15T18:05:17.0940012Z     from azure.monitor.opentelemetry import configure_azure_monitor
2026-01-15T18:05:17.0940119Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/__init__.py", line 7, in <module>
2026-01-15T18:05:17.0955113Z     from azure.monitor.opentelemetry._configure import configure_azure_monitor
2026-01-15T18:05:17.0955220Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_configure.py", line 27, in <module>
2026-01-15T18:05:17.0960654Z     from azure.monitor.opentelemetry._constants import (
2026-01-15T18:05:17.0960768Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_constants.py", line 7, in <module>
2026-01-15T18:05:17.0977778Z     from azure.monitor.opentelemetry.exporter._constants import (  # pylint: disable=import-error,no-name-in-module
2026-01-15T18:05:17.0977902Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/__init__.py", line 7, in <module>
2026-01-15T18:05:17.0997789Z     from azure.monitor.opentelemetry.exporter.export.logs._exporter import AzureMonitorLogExporter
2026-01-15T18:05:17.1063161Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/export/logs/_exporter.py", line 14, in <module>
2026-01-15T18:05:17.1063282Z     from opentelemetry.sdk._logs import LogData
2026-01-15T18:05:17.1063329Z ImportError: cannot import name 'LogData' from 'opentelemetry.sdk._logs' (/usr/local/lib/python3.11/site-packages/opentelemetry/sdk/_logs/__init__.py)
2026-01-15T18:14:33.4353382Z Traceback (most recent call last):
2026-01-15T18:14:33.4355098Z   File "/usr/local/bin/uvicorn", line 7, in <module>
2026-01-15T18:14:33.4355172Z     sys.exit(main())
2026-01-15T18:14:33.4355216Z              ^^^^^^
2026-01-15T18:14:33.4355259Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1485, in __call__
2026-01-15T18:14:33.4407306Z     return self.main(*args, **kwargs)
2026-01-15T18:14:33.4407552Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:33.4407605Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1406, in main
2026-01-15T18:14:33.4415122Z     rv = self.invoke(ctx)
2026-01-15T18:14:33.4416556Z          ^^^^^^^^^^^^^^^^
2026-01-15T18:14:33.4417504Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1269, in invoke
2026-01-15T18:14:33.4422672Z     return ctx.invoke(self.callback, **ctx.params)
2026-01-15T18:14:33.4423847Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:33.4424542Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 824, in invoke
2026-01-15T18:14:33.4430044Z     return callback(*args, **kwargs)
2026-01-15T18:14:33.4431882Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:33.4434054Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2026-01-15T18:14:33.4438514Z     run(
2026-01-15T18:14:33.4439472Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2026-01-15T18:14:33.4442960Z     server.run()
2026-01-15T18:14:33.4444160Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2026-01-15T18:14:33.4445889Z     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2026-01-15T18:14:33.4447910Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:33.4469893Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2026-01-15T18:14:33.4470009Z     return runner.run(main)
2026-01-15T18:14:33.4470053Z            ^^^^^^^^^^^^^^^^
2026-01-15T18:14:33.4470094Z   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2026-01-15T18:14:33.4476386Z     return self._loop.run_until_complete(task)
2026-01-15T18:14:33.4476532Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:33.4476581Z   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2026-01-15T18:14:33.4476628Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2026-01-15T18:14:33.4476673Z     await self._serve(sockets)
2026-01-15T18:14:33.4476716Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2026-01-15T18:14:33.4476757Z     config.load()
2026-01-15T18:14:33.4476810Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2026-01-15T18:14:33.4476852Z     self.loaded_app = import_from_string(self.app)
2026-01-15T18:14:33.4476880Z                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:33.4476908Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2026-01-15T18:14:33.4476935Z     module = importlib.import_module(module_str)
2026-01-15T18:14:33.4476961Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:33.4476998Z   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2026-01-15T18:14:33.4492256Z     return _bootstrap._gcd_import(name[level:], package, level)
2026-01-15T18:14:33.4492389Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:33.4492442Z   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2026-01-15T18:14:33.4492485Z   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2026-01-15T18:14:33.4492527Z   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2026-01-15T18:14:33.4492592Z   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2026-01-15T18:14:33.4492630Z   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2026-01-15T18:14:33.4492659Z   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2026-01-15T18:14:33.4492686Z   File "/app/app.py", line 22, in <module>
2026-01-15T18:14:33.4492712Z     from chat import router as chat_router
2026-01-15T18:14:33.4492737Z   File "/app/chat.py", line 28, in <module>
2026-01-15T18:14:33.4492774Z     from azure.monitor.opentelemetry import configure_azure_monitor
2026-01-15T18:14:33.4492803Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/__init__.py", line 7, in <module>
2026-01-15T18:14:33.4504796Z     from azure.monitor.opentelemetry._configure import configure_azure_monitor
2026-01-15T18:14:33.4504935Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_configure.py", line 27, in <module>
2026-01-15T18:14:33.4511175Z     from azure.monitor.opentelemetry._constants import (
2026-01-15T18:14:33.4511323Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_constants.py", line 7, in <module>
2026-01-15T18:14:33.4515391Z     from azure.monitor.opentelemetry.exporter._constants import (  # pylint: disable=import-error,no-name-in-module
2026-01-15T18:14:33.4515518Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/__init__.py", line 7, in <module>
2026-01-15T18:14:33.4519624Z     from azure.monitor.opentelemetry.exporter.export.logs._exporter import AzureMonitorLogExporter
2026-01-15T18:14:33.4521027Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/export/logs/_exporter.py", line 14, in <module>
2026-01-15T18:14:33.4548134Z     from opentelemetry.sdk._logs import LogData
2026-01-15T18:14:33.4548345Z ImportError: cannot import name 'LogData' from 'opentelemetry.sdk._logs' (/usr/local/lib/python3.11/site-packages/opentelemetry/sdk/_logs/__init__.py)
2026-01-15T18:14:50.3106931Z Traceback (most recent call last):
2026-01-15T18:14:50.3107353Z   File "/usr/local/bin/uvicorn", line 7, in <module>
2026-01-15T18:14:50.3116287Z     sys.exit(main())
2026-01-15T18:14:50.3116787Z              ^^^^^^
2026-01-15T18:14:50.3116830Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1485, in __call__
2026-01-15T18:14:50.3158104Z     return self.main(*args, **kwargs)
2026-01-15T18:14:50.3158202Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:50.3158244Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1406, in main
2026-01-15T18:14:50.3158300Z     rv = self.invoke(ctx)
2026-01-15T18:14:50.3158334Z          ^^^^^^^^^^^^^^^^
2026-01-15T18:14:50.3158366Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1269, in invoke
2026-01-15T18:14:50.3158397Z     return ctx.invoke(self.callback, **ctx.params)
2026-01-15T18:14:50.3158428Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:50.3158459Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 824, in invoke
2026-01-15T18:14:50.3158868Z     return callback(*args, **kwargs)
2026-01-15T18:14:50.3158902Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:50.3158933Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2026-01-15T18:14:50.3158961Z     run(
2026-01-15T18:14:50.3158992Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2026-01-15T18:14:50.3159036Z     server.run()
2026-01-15T18:14:50.3159066Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2026-01-15T18:14:50.3159097Z     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2026-01-15T18:14:50.3171741Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:50.3172567Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2026-01-15T18:14:50.3174297Z     return runner.run(main)
2026-01-15T18:14:50.3174372Z            ^^^^^^^^^^^^^^^^
2026-01-15T18:14:50.3174406Z   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2026-01-15T18:14:50.3174439Z     return self._loop.run_until_complete(task)
2026-01-15T18:14:50.3174469Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:50.3174521Z   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2026-01-15T18:14:50.3174556Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2026-01-15T18:14:50.3175775Z     await self._serve(sockets)
2026-01-15T18:14:50.3175856Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2026-01-15T18:14:50.3179501Z     config.load()
2026-01-15T18:14:50.3179593Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2026-01-15T18:14:50.3186064Z     self.loaded_app = import_from_string(self.app)
2026-01-15T18:14:50.3187032Z                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:50.3187099Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2026-01-15T18:14:50.3190061Z     module = importlib.import_module(module_str)
2026-01-15T18:14:50.3192436Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:50.3197012Z   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2026-01-15T18:14:50.3197107Z     return _bootstrap._gcd_import(name[level:], package, level)
2026-01-15T18:14:50.3197149Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:14:50.3204844Z   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2026-01-15T18:14:50.3204937Z   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2026-01-15T18:14:50.3204975Z   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2026-01-15T18:14:50.3205008Z   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2026-01-15T18:14:50.3205037Z   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2026-01-15T18:14:50.3205072Z   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2026-01-15T18:14:50.3205107Z   File "/app/app.py", line 22, in <module>
2026-01-15T18:14:50.3205163Z     from chat import router as chat_router
2026-01-15T18:14:50.3205198Z   File "/app/chat.py", line 28, in <module>
2026-01-15T18:14:50.3206026Z     from azure.monitor.opentelemetry import configure_azure_monitor
2026-01-15T18:14:50.3208460Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/__init__.py", line 7, in <module>
2026-01-15T18:14:50.3212274Z     from azure.monitor.opentelemetry._configure import configure_azure_monitor
2026-01-15T18:14:50.3214645Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_configure.py", line 27, in <module>
2026-01-15T18:14:50.3218253Z     from azure.monitor.opentelemetry._constants import (
2026-01-15T18:14:50.3218340Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_constants.py", line 7, in <module>
2026-01-15T18:14:50.3222919Z     from azure.monitor.opentelemetry.exporter._constants import (  # pylint: disable=import-error,no-name-in-module
2026-01-15T18:14:50.3223916Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/__init__.py", line 7, in <module>
2026-01-15T18:14:50.3232850Z     from azure.monitor.opentelemetry.exporter.export.logs._exporter import AzureMonitorLogExporter
2026-01-15T18:14:50.3234264Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/export/logs/_exporter.py", line 14, in <module>
2026-01-15T18:14:50.3238202Z     from opentelemetry.sdk._logs import LogData
2026-01-15T18:14:50.3238302Z ImportError: cannot import name 'LogData' from 'opentelemetry.sdk._logs' (/usr/local/lib/python3.11/site-packages/opentelemetry/sdk/_logs/__init__.py)
2026-01-15T18:16:08.7885362Z Traceback (most recent call last):
2026-01-15T18:16:08.7885746Z   File "/usr/local/bin/uvicorn", line 7, in <module>
2026-01-15T18:16:08.7889710Z     sys.exit(main())
2026-01-15T18:16:08.7889817Z              ^^^^^^
2026-01-15T18:16:08.7889858Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1485, in __call__
2026-01-15T18:16:08.7896269Z     return self.main(*args, **kwargs)
2026-01-15T18:16:08.7896373Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:16:08.7896408Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1406, in main
2026-01-15T18:16:08.7905647Z     rv = self.invoke(ctx)
2026-01-15T18:16:08.7905752Z          ^^^^^^^^^^^^^^^^
2026-01-15T18:16:08.7911623Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 1269, in invoke
2026-01-15T18:16:08.7915384Z     return ctx.invoke(self.callback, **ctx.params)
2026-01-15T18:16:08.7915867Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:16:08.7915911Z   File "/usr/local/lib/python3.11/site-packages/click/core.py", line 824, in invoke
2026-01-15T18:16:08.7979298Z     return callback(*args, **kwargs)
2026-01-15T18:16:08.7979423Z            ^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:16:08.7979463Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 423, in main
2026-01-15T18:16:08.7979494Z     run(
2026-01-15T18:16:08.7979531Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/main.py", line 593, in run
2026-01-15T18:16:08.7986338Z     server.run()
2026-01-15T18:16:08.7986441Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 67, in run
2026-01-15T18:16:08.7995012Z     return asyncio_run(self.serve(sockets=sockets), loop_factory=self.config.get_loop_factory())
2026-01-15T18:16:08.7995113Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:16:08.7995153Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/_compat.py", line 30, in asyncio_run
2026-01-15T18:16:08.8006413Z     return runner.run(main)
2026-01-15T18:16:08.8006507Z            ^^^^^^^^^^^^^^^^
2026-01-15T18:16:08.8006544Z   File "/usr/local/lib/python3.11/asyncio/runners.py", line 118, in run
2026-01-15T18:16:08.8006576Z     return self._loop.run_until_complete(task)
2026-01-15T18:16:08.8006607Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:16:08.8006659Z   File "uvloop/loop.pyx", line 1518, in uvloop.loop.Loop.run_until_complete
2026-01-15T18:16:08.8011207Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 71, in serve
2026-01-15T18:16:08.8012518Z     await self._serve(sockets)
2026-01-15T18:16:08.8012561Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/server.py", line 78, in _serve
2026-01-15T18:16:08.8025334Z     config.load()
2026-01-15T18:16:08.8025613Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/config.py", line 439, in load
2026-01-15T18:16:08.8025653Z     self.loaded_app = import_from_string(self.app)
2026-01-15T18:16:08.8025683Z                       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:16:08.8025715Z   File "/usr/local/lib/python3.11/site-packages/uvicorn/importer.py", line 19, in import_from_string
2026-01-15T18:16:08.8032073Z     module = importlib.import_module(module_str)
2026-01-15T18:16:08.8032150Z              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:16:08.8032185Z   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
2026-01-15T18:16:08.8032214Z     return _bootstrap._gcd_import(name[level:], package, level)
2026-01-15T18:16:08.8039995Z            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
2026-01-15T18:16:08.8040083Z   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
2026-01-15T18:16:08.8040118Z   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
2026-01-15T18:16:08.8040153Z   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
2026-01-15T18:16:08.8040184Z   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
2026-01-15T18:16:08.8040219Z   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
2026-01-15T18:16:08.8046467Z   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
2026-01-15T18:16:08.8046559Z   File "/app/app.py", line 22, in <module>
2026-01-15T18:16:08.8046593Z     from chat import router as chat_router
2026-01-15T18:16:08.8046626Z   File "/app/chat.py", line 28, in <module>
2026-01-15T18:16:08.8046661Z     from azure.monitor.opentelemetry import configure_azure_monitor
2026-01-15T18:16:08.8046695Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/__init__.py", line 7, in <module>
2026-01-15T18:16:08.8046837Z     from azure.monitor.opentelemetry._configure import configure_azure_monitor
2026-01-15T18:16:08.8046874Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_configure.py", line 27, in <module>
2026-01-15T18:16:08.8046905Z     from azure.monitor.opentelemetry._constants import (
2026-01-15T18:16:08.8046937Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/_constants.py", line 7, in <module>
2026-01-15T18:16:08.8046984Z     from azure.monitor.opentelemetry.exporter._constants import (  # pylint: disable=import-error,no-name-in-module
2026-01-15T18:16:08.8047017Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/__init__.py", line 7, in <module>
2026-01-15T18:16:08.8054193Z     from azure.monitor.opentelemetry.exporter.export.logs._exporter import AzureMonitorLogExporter
2026-01-15T18:16:08.8054290Z   File "/usr/local/lib/python3.11/site-packages/azure/monitor/opentelemetry/exporter/export/logs/_exporter.py", line 14, in <module>
2026-01-15T18:16:08.8054321Z     from opentelemetry.sdk._logs import LogData
2026-01-15T18:16:08.8054354Z ImportError: cannot import name 'LogData' from 'opentelemetry.sdk._logs' (/usr/local/lib/python3.11/site-packages/opentelemetry/sdk/_logs/__init__.py)
